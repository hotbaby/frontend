
<!DOCTYPE html>
<html>

<head>
<meta charset="utf-8">

</head>

<body>
	<p>Server-Sent 事件允许网页从服务器获得更新</p>

	<div>
		<h2>Server-Sent 事件 - One Way Messaging</h2>
		<p>Server-Sent 事件指的是网页自动从服务器获得更新。<br>
		以前也可能做到这一点，前提是网页不得不询问是否有可用的更新。通过 Server-Sent 事件，更新能够自动到达。<br>
		例如：Facebook/Twitter 更新、股价更新、新的博文、赛事结果，等等。</p>
	</div>

	<div>
		<h2>Get server update event</h2>
		<output id="sse"></output>
	</div>

<script type="text/javascript">
if (typeof(EventSource) !== "undefined") {
	var source = new EventSource("http://www.w3school.com.cn/example/html5/demo_sse.php")
	source.onmessage = function (event) {
		document.getEelementById("sse").innerHTML +=event.data + "<br>";
	}
} else {
	document.getElementById("sse").innerHTML = "Sorry, the browser does not support server-sent-event."
}
</script>
</body>
</html>