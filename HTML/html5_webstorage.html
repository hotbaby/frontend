
<html>

<head>
<meta charset="utf-8">
<style type="text/css">
pre {
	width: 665px;
	margin: 10px 0 0 0;
	padding: 10px;
	border: 0;
	border: 1px dotted #785;
	background: #f5f5f5;
}
</style>

<script type="text/javascript">
</script>

</head>

<body>
	<div>
		<h2>什么是 HTML 本地存储？</h2>
		<p>通过本地存储（Local Storage），web 应用程序能够在用户浏览器中对数据进行本地的存储。<br>
		在 HTML5 之前，应用程序数据只能存储在 cookie 中，包括每个服务器请求。<br>
		本地存储则更安全，并且可在不影响网站性能的前提下将大量数据存储于本地。<br>
		与 cookie 不同，存储限制要大得多（至少5MB），并且信息不会被传输到服务器。<br>
		本地存储经由起源地（origin）（经由域和协议）。所有页面，从起源地，能够存储和访问相同的数据</p>
	</div>

	<div>
		<h2>HTML 本地存储对象</h2>
		<p>TML 本地存储提供了两个在客户端存储数据的对象：</p>
		<ul>
			<li>window.localStorage - 存储没有截止日期的数据</li>
			<li>window.sessionStorage - 针对一个 session 来存储数据（当关闭浏览器标签页时数据会丢失）/li>
		</ul>
		<p>在使用本地存储时，请检测 localStorage 和 sessionStorage 的浏览器支持:</p>
		<pre>
if (typeof(Storage) !== "undefined") {
	<span class="code_comment">// 针对 localStorage/sessionStorage 的代码</span>
} else {
	<span class="code_comment">//抱歉！不支持 Web Storage ..</span>
}
		</pre>

	</div>

	<div>
		<h2>localStorage 对象</h2>
		<p>localStorage 对象存储的是没有截止日期的数据。当浏览器被关闭时数据不会被删除，在下一天、周或年中，都是可用的。</p>
		<p>Local storage:</p>
		<p id="local_storage"></p>
	</div>

<script type="text/javascript">
if (typeof(Storage) !== "undefined") {
	localStorage.setItem("lastname", "Gates");
	document.getElementById("local_storage").innerHTML = localStorage.getItem("lastname")
} else {
	document.getElementById("local_storage").innerHTML = "Not support local storage."
}
</script>

	<div>
		<h2>sessionStorage 对象</h2>
		<p>sessionStorage 对象等同 localStorage 对象，不同之处在于只对一个 session 存储数据。如果用户关闭具体的浏览器标签页，数据也会被删除。</p>
		<p>session storage:</p>
		<button onclick="clickCounter()" type="button">Click here</button>
		<p id="session_storage"></p>
		<p>Click and increase the counter.</p>
	</div>

<script type="text/javascript">
function clickCounter() {
	if (typeof(Storage) !== "undefined") {
		if (sessionStorage.clickcount) {
			sessionStorage.clickcount = Number(sessionStorage.clickcount)+1;
		} else {
			sessionStorage.clickcount = 1
		}
		document.getElementById("session_storage").innerHTML = 'Click ' + sessionStorage.clickcount + ' times.'
	} else {
		document.getElementById("session_storage").innerHTML = "Sorry, the browser not support web storage."
	}
}
</script>
</body>
</html>